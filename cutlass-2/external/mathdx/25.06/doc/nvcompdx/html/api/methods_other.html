

<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Other Methods &#8212; nvCOMPDx</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/nvidia-sphinx-theme.css?v=df3ac72c" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=2caa9db7"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/methods_other';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.nvidia.com/cuda/nvcompdx/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.1.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../_static/nvidia.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Introduction Example" href="../examples/intro_example.html" />
    <link rel="prev" title="Execution Method" href="methods.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.1.0" />


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nvCOMPDx - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nvCOMPDx - Home"/>
  
  
    <p class="title logo__title">nvCOMPDx</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="nvCOMPDx - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="nvCOMPDx - Home"/>
  
  
    <p class="title logo__title">nvCOMPDx</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Using nvCOMPDx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../highperformance.html">Achieving High Performance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="operators.html">Operators</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="operators_description.html">Description Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="operators_execution.html">Execution Operators</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="traits.html">Traits</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="traits_description.html">Description Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="traits_execution.html">Execution Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="traits_other.html">Other Traits</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="methods.html">Execution Method</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Other Methods</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../examples/intro_example.html">Introduction Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/lz4_examples.html">LZ4 Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/ans_examples.html">ANS Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/example_nvrtc.html">NVRTC + nvJitLink Example</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA/CUDALibrarySamples/tree/master/MathDx/">GitHub Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">Software License Agreement</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MathDx</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://developer.nvidia.com/nvcompdx-downloads">nvCOMPDx</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developer.nvidia.com/cusolverdx-downloads">cuSolverDx</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developer.nvidia.com/cublasdx-downloads">cuBLASDx</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developer.nvidia.com/cufftdx-downloads">cuFFTDx</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developer.nvidia.com/curanddx-downloads">cuRANDDx</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Other Methods</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="other-methods">
<span id="other-methods-label"></span><h1>Other Methods<a class="headerlink" href="#other-methods" title="Link to this heading">#</a></h1>
<p>Apart from the main <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">execute</span><span class="p">(...)</span></code> method, nvCOMPDx requires several other methods to set up the compression and decompression on the device.
These methods are used to calculate the maximum compressed chunk size, the scratch memory requirements, and the alignment requirements for the input, output, shared, and global scratch buffers.</p>
<section id="maximum-compressed-chunk-size">
<h2>Maximum Compressed Chunk Size<a class="headerlink" href="#maximum-compressed-chunk-size" title="Link to this heading">#</a></h2>
<p>For the compression operation, nvCOMPDx provides a method that gives an upper bound for the attainable compressed chunk size (<code class="code highlight cpp docutils literal highlight-cpp"><span class="n">output_chunk_size</span></code> within <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">execute</span><span class="p">(...)</span></code>). The provided maximum may be useful for allocating an output buffer in global memory, or reserving this space in shared memory either statically or dynamically within a thread block. This maximum is calculated at compilation time using a <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">COMP</span></code> descriptor.</p>
<p>Note, that there is no method that provides an estimate for the inverse operation, i.e., the maximum attainable decompressed chunk size.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Performing compression or decompression into a buffer that is smaller than required is considered undefined behavior.</p>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compression description</span>
<span class="k">using</span><span class="w"> </span><span class="n">COMP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">Direction</span><span class="o">&lt;</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">direction</span><span class="o">::</span><span class="n">compress</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                      </span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">MaxUncompChunkSize</span><span class="o">&lt;</span><span class="n">uncomp_chunk_size</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Calculate the maximum compressed size of a single chunk in bytes</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">max_comp_chunk_size</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="scratch-memory-requirement-methods">
<h2>Scratch Memory Requirement Methods<a class="headerlink" href="#scratch-memory-requirement-methods" title="Link to this heading">#</a></h2>
<p>nvCOMPDx, depending on the selected algorithm, the direction of operation, etc., may require a scratch memory buffer either in shared memory, global memory, or both. The required buffer sizes are calculated during compilation time using the <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">COMP</span></code> or <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">DECOMP</span></code> descriptors.</p>
<p>Note, that the methods <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">shmem_size_group</span></code> and <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">tmp_size_group</span></code> return buffer sizes required for a single instance of execution level (warp or block), which may differ from the total allocation requirements if multiple chunks are processed simultaneously.</p>
<p>If <a class="reference internal" href="operators_execution.html#warp-operator-label"><span class="std std-ref">Warp Operator</span></a> is used, and multiple chunks are calculated simultaneously in one thread block, one must multiply the output of <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">shmem_size_group</span></code> by the number of chunks processed in parallel in a thread block. One can also retrieve the shared memory scratch buffer offset using <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">shmem_size_group</span></code> by multiplying the output with the current <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">warp_id</span></code>. Analogously, one can retrieve the global memory scratch buffer offset using <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">tmp_size_group</span></code> by multiplying the output with the global <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">chunk_id</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values returned by <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">shmem_size_group</span></code> and <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">tmp_size_group</span></code> already take into consideration the alignment requirements of scratch buffers for consecutive chunks. This means that users don’t need to factor in <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">shmem_alignment</span></code> or <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">tmp_alignment</span></code> during the offset calculation process. For more information, please check the alignment requirements below.</p>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compression description</span>
<span class="k">using</span><span class="w"> </span><span class="n">COMP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">Direction</span><span class="o">&lt;</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">direction</span><span class="o">::</span><span class="n">compress</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Decompression description</span>
<span class="k">using</span><span class="w"> </span><span class="n">DECOMP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">Direction</span><span class="o">&lt;</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">direction</span><span class="o">::</span><span class="n">decompress</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Calculate the amount of shared memory scratch space required for the selected</span>
<span class="c1">// execution level, for a single instance (one warp, or one block) in bytes.</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">shmem_size_group</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">DECOMP</span><span class="o">::</span><span class="n">shmem_size_group</span><span class="p">();</span>

<span class="c1">// Calculate the amount of global memory scratch space required for the selected</span>
<span class="c1">// execution level, for a single instance (one warp or one block) in bytes.</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">tmp_size_group</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">DECOMP</span><span class="o">::</span><span class="n">tmp_size_group</span><span class="p">();</span>
</pre></div>
</div>
<p>The methods <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">shmem_size_group</span></code> and <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">tmp_size_group</span></code> retrieve buffer sizes for a single instance of execution level (either one warp or one block). To retrieve the total amount of global scratch buffer required, one must use the <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">tmp_size_total</span></code> method.
Prior to the kernel invocation, the total number of chunks to be processed must be known.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compression description</span>
<span class="k">using</span><span class="w"> </span><span class="n">COMP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">Direction</span><span class="o">&lt;</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">direction</span><span class="o">::</span><span class="n">compress</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Decompression description</span>
<span class="k">using</span><span class="w"> </span><span class="n">DECOMP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">Direction</span><span class="o">&lt;</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">direction</span><span class="o">::</span><span class="n">decompress</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Calculate the total amount of global memory scratch space required</span>
<span class="c1">// for the whole kernel execution in bytes.</span>
<span class="c1">//</span>
<span class="c1">// - num_chunks[in] The total number of chunks processed by the kernel</span>
<span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">tmp_size_total</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">num_chunks</span><span class="p">);</span>
<span class="c1">// or</span>
<span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">DECOMP</span><span class="o">::</span><span class="n">tmp_size_total</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">num_chunks</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The scratch buffer allocation requirements may change between nvCOMPDx releases, therefore, please always make sure to query the scratch buffer requirements and allocate the scratch buffers accordingly. Using scratch buffers smaller than their required size is considered undefined behavior.</p>
</div>
</section>
<section id="alignment-methods">
<span id="alignment-methods-label"></span><h2>Alignment Methods<a class="headerlink" href="#alignment-methods" title="Link to this heading">#</a></h2>
<p>nvCOMPDx requires its buffers to be aligned to specific byte boundaries. The alignment requirements may be different for different algorithms, and may also depend on the selected execution level (warp or block) and selected data type.
The alignments required for the input, output, shared, and global scratch buffers are always going to be a power of 2.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Global memory allocations directly provided by <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">cudaMalloc</span><span class="p">(...)</span></code>, <code class="code highlight cpp docutils literal highlight-cpp"><span class="n">cudaMallocPitch</span><span class="p">(...)</span></code>, etc., return buffers with 256-byte alignment, and therefore these allocations automatically satisfy the input, output, and global scratch buffer alignment requirements.</p>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Compression description</span>
<span class="k">using</span><span class="w"> </span><span class="n">COMP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">Direction</span><span class="o">&lt;</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">direction</span><span class="o">::</span><span class="n">compress</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Decompression description</span>
<span class="k">using</span><span class="w"> </span><span class="n">DECOMP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">Direction</span><span class="o">&lt;</span><span class="n">nvcompdx</span><span class="o">::</span><span class="n">direction</span><span class="o">::</span><span class="n">decompress</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Retrieve the required alignment for the shared memory scratch buffer.</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">shmem_alignment</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">DECOMP</span><span class="o">::</span><span class="n">shmem_alignment</span><span class="p">();</span>

<span class="c1">// Retrieve the required alignment for the global memory scratch buffer.</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">tmp_alignment</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">DECOMP</span><span class="o">::</span><span class="n">tmp_alignment</span><span class="p">();</span>

<span class="c1">// Retrieve the required alignment for the input data. Depending on the</span>
<span class="c1">// direction, this can mean either the uncompressed/raw buffer (compressor) or</span>
<span class="c1">// the compressed buffer (decompressor).</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">input_alignment</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">DECOMP</span><span class="o">::</span><span class="n">input_alignment</span><span class="p">();</span>

<span class="c1">// Retrieve the required alignment for the output data. Depending on the</span>
<span class="c1">// direction, this can mean either the compressed buffer (compressor) or</span>
<span class="c1">// the decompressed buffer (decompressor).</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">COMP</span><span class="o">::</span><span class="n">output_alignment</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="n">__device__</span><span class="w"> </span><span class="n">__host__</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">DECOMP</span><span class="o">::</span><span class="n">output_alignment</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The alignment requirements may change between nvCOMPDx releases, therefore, please always make sure to query the alignment requirements before invoking nvCOMPDx methods. Violating alignment requirements for any of the required buffers is considered undefined behavior.</p>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="methods.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Execution Method</p>
      </div>
    </a>
    <a class="right-next"
       href="../examples/intro_example.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Introduction Example</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maximum-compressed-chunk-size">Maximum Compressed Chunk Size</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scratch-memory-requirement-methods">Scratch Memory Requirement Methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alignment-methods">Alignment Methods</a></li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/">Privacy Policy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/">Manage My Privacy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/preferences/start/">Do Not Sell or Share My Data</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/">Terms of Service</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/accessibility/">Accessibility</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/company-policies/">Corporate Policies</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/product-security/">Product Security</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/contact/">Contact</a>
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2024-2025, NVIDIA Corporation &amp; Affiliates. All rights reserved.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>